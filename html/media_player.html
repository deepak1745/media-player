<!DOCTYPE html>
<html>
<head>
<style media="screen">
.center { margin:auto; display: block;}
.media{ border-radius: 8px; border: 2px solid #73AD21!important; padding: 0px 0px 60px 0px;}
audio{
  width: 500px!important;
  height: 40px!important;
  padding-bottom: 5px;
}
.video{
  display: none;
}
button{
  background-color:#337ab7!important;
  color:#fff!important;
  height: 25px;
}
#repeat{
  margin-top: .5%;
}
</style>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script> -->
<script src="../js/jquery-1.12.3.min.js"></script>
</head>
<body>
  <div class="media">
    <input type="file" id="myFile" size="70" multiple="multiple"/>
    <button type="button" onclick="myFunction()">Submit</button>
    <input type="checkbox" id="repeat" name="repeat" value="repeat "> Repeat
    <h1 id="songName" style="text-align:center"> Play Song </h1>
    <audio class="center audio" id="audio" controls="controls" autoplay="autoplay">
      <source id="audioFileChosen" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
      <video class = "center video" id="video" width="700" height="400" draggable="true" controls>
        <source id="videoFileChosen" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <script>
        function myFunction() {
          var fileVals = document.getElementById("myFile").files;
          var fileName = fileVals[0].name;
          var fileFormat = fileName.split('.');
          if(fileFormat[1]=="mp3"){
            $('.video').css("display","none");
            $('.audio').css("display","block");
            var audio = document.getElementById('audio');
            var source = document.getElementById('audioFileChosen');
            source.src = 'E:///himesh hits/' + fileName;   // change the src folder path according to your own music directory name.
            $('#songName').html('Playing '+ fileName +' Song');
            audio.load();
            audio.play();
            var i=0;

            audio.addEventListener('ended', function(e){
              console.log(i+" has ended.");
              if(i<fileVals.length-1){
                i++;
                fileName = fileVals[i].name;
                source.src = 'E:///himesh hits/' + fileName;  // change the src folder path according to your own music directory name.
                $('#songName').html('Playing '+ fileName +' Song');
                audio.pause();
                audio.load();
                audio.play();
              }
              else{
                if (document.getElementById('repeat').checked) {
                  i=0;
                  fileName = fileVals[i].name;
                  source.src = 'E:///himesh hits/' + fileName;  // change the src folder path according to your own music directory name.
                  $('#songName').html('Playing '+ fileName +' Song');
                  audio.pause();
                  audio.load();
                  audio.play();
                }
                else{
                  audio.pause();
                }
              }
            });
          }
          else{
            $('.audio').css("display","none");
            $('.video').css("display","block");
            var video = document.getElementById('video');
            var source = document.getElementById('videoFileChosen');
            source.src = 'E:///himesh hits/' + fileName;  // change the src folder path according to your own music directory name.
            $('#songName').html('Playing '+ fileName +' Song');
            video.load();
            video.play();
            var i=0;

            video.addEventListener('ended', function(e){
              console.log(i+" has ended.");
              if(i<fileVals.length-1){
                i++;
                fileName = fileVals[i].name;
                source.src = 'E:///himesh hits/' + fileName;  // change the src folder path according to your own music directory name.
                $('#songName').html('Playing '+ fileName +' Song');
                video.pause();
                video.load();
                video.play();
              }
              else{
                if (document.getElementById('repeat').checked) {
                  i=0;
                  fileName = fileVals[i].name;
                  source.src = 'E:///himesh hits/' + fileName;  // change the src folder path according to your own music directory name.
                  $('#songName').html('Playing '+ fileName +' Song');
                  video.pause();
                  video.load();
                  video.play();
                }
                else{
                  video.pause();
                }
              }
            });
          }
        }
        </script>
        <h2 align = "center"> Created by Deepak Kumar </h2>
      </div>
    </body>
    </html>
